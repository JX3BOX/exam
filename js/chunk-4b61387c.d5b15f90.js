(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4b61387c"],{"408b":function(e,t,a){"use strict";a.d(t,"a",(function(){return o})),a.d(t,"b",(function(){return i}));a("b64b"),a("d3b7");var n=a("bc3a"),r=a.n(n);function s(e){return new Promise((function(t,a){var n=r.a.create({headers:{"Content-Type":"application/json",Accept:"application/json"},timeout:1e4});n(e).then((function(e){t(e.data)})).catch((function(e){console.log(e.response),e.response?e.response.data.code?a(e.response.data):a({msg:e.response.data,code:e.response.status}):a({msg:"网络请求异常",code:-1})}))}))}function o(e,t,a,n,r,o){var i={url:""+e,method:t||"GET"};return i["withCredentials"]=void 0!==a&&a,void 0!=n&&Object.keys(n).length>0&&(i["data"]=n),void 0!=r&&""!==r&&(i["headers"]=r),void 0!=o&&Object.keys(o).length>0&&(i["params"]=o),s(i)}function i(e,t){return e+t}},4683:function(e,t,a){},"98e7":function(e,t,a){"use strict";var n=a("4683"),r=a.n(n);r.a},b21d:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.examInfo&&Object.keys(e.examInfo).length>0?a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"c-exam-rank"},[a("div",{staticClass:"c-exam-rank-title"},[a("h1",[e._v("百强榜")]),a("h2",[e._v("《"+e._s(e.examInfo.title)+"》")]),a("el-divider",[e._v("以下排名按照个人第一次获得的分数和答题消耗时间排序")])],1),a("div",{staticClass:"c-exam-rank-table"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.rankData}},[a("el-table-column",{attrs:{prop:"rank",label:"名次",width:120},scopedSlots:e._u([{key:"default",fn:function(t){return[t.$index>=3?a("span",[e._v(e._s(t.$index+1))]):a("div",{staticClass:"c-exam-rank-table-pic",class:e.bindRankingPicClass(t.$index)})]}}],null,!1,3079320940)}),a("el-table-column",{attrs:{prop:"displayName",label:"用户名"}}),a("el-table-column",{attrs:{prop:"score",label:"分数",width:120}}),a("el-table-column",{attrs:{prop:"coastTime",label:"答题耗时(秒)",width:120}}),a("el-table-column",{attrs:{prop:"endTimeStr",label:"完成时间",width:180}})],1)],1)]):e._e()},r=[],s=(a("99af"),a("ac1f"),a("5319"),a("408b")),o=a("64c7"),i=(a("85e4"),{name:"ExamRank",components:{},data:function(){return{examid:-1,examInfo:{},loading:!1,rankData:[{rank:1,username:"枫瑞",score:"1000",timestamp:"2020-04-32 25:61:61"},{rank:2,username:"枫瑞",score:"1000",timestamp:"2020-04-32 25:61:61"},{rank:3,username:"枫瑞",score:"1000",timestamp:"2020-04-32 25:61:61"},{rank:4,username:"枫瑞",score:"1000",timestamp:"2020-04-32 25:61:61"},{rank:5,username:"枫瑞",score:"1000",timestamp:"2020-04-32 25:61:61"},{rank:6,username:"枫瑞",score:"1000",timestamp:"2020-04-32 25:61:61"}]}},computed:{bindRankingPicClass:function(){return function(e){var t={};return t["rank-table-pic-ranking-".concat(e+1)]=!0,t}}},mounted:function(){this.getExamInfo(),this.getRankData()},methods:{name:function(){},getExamInfo:function(){var e=this;if(this.loading=!0,!this.$route.params.id)return this.$message.error("获取试卷信息失败，请重新从试卷列表页进入！"),setTimeout((function(){e.$router.replace("/list")}),1e3),!1;this.examid=this.$route.params.id;var t=this.$route.params;if(!t.examInfo)return this.$message.error("获取试卷信息失败，请重新从试卷列表页进入！"),setTimeout((function(){e.$router.replace("/list")}),1e3),!1;this.examInfo=t.examInfo},getRankData:function(){var e=this;if(!this.examInfo)return!1;console.log(this.examInfo);var t=Object(s["b"])(o["__next"],"api/question/user-exam-paper/".concat(this.examid,"/rank"));Object(s["a"])(t).then((function(t){e.rankData=t})).catch((function(t){switch(t.code){case-1:e.$message.error(t.msg);break;case 404:e.loading=!0,e.$message.error("试卷不存在！"),setTimeout((function(){e.$router.replace("/list")}),1e3);break;case 9999:e.$message.error("登录失效, 请重新登录"),User.destroy(),setTimeout((function(){User.toLogin()}),1e3);break;default:e.$message.error("[".concat(t.code,"]").concat(t.msg))}})).then((function(){e.loading=!1}))}}}),c=i,u=(a("98e7"),a("2877")),l=Object(u["a"])(c,n,r,!1,null,null,null);t["default"]=l.exports},b64b:function(e,t,a){var n=a("23e7"),r=a("7b0b"),s=a("df75"),o=a("d039"),i=o((function(){s(1)}));n({target:"Object",stat:!0,forced:i},{keys:function(e){return s(r(e))}})}}]);
//# sourceMappingURL=chunk-4b61387c.d5b15f90.js.map
(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-cc568f88"],{"2e5e":function(t,e,a){"use strict";var n=a("84ed"),o=a.n(n);o.a},"408b":function(t,e,a){"use strict";a.d(e,"a",(function(){return l})),a.d(e,"b",(function(){return s}));a("b64b"),a("d3b7");var n=a("bc3a"),o=a.n(n);function r(t){return new Promise((function(e,a){var n=o.a.create({headers:{"Content-Type":"application/json",Accept:"application/json"},timeout:1e4});n(t).then((function(t){e(t.data)})).catch((function(t){console.log(t.response),t.response?t.response.data.code?a(t.response.data):a({msg:t.response.data,code:t.response.status}):a({msg:"网络请求异常",code:-1})}))}))}function l(t,e,a,n,o,l){var s={url:""+t,method:e||"GET"};return s["withCredentials"]=void 0!==a&&a,void 0!=n&&Object.keys(n).length>0&&(s["data"]=n),void 0!=o&&""!==o&&(s["headers"]=o),void 0!=l&&Object.keys(l).length>0&&(s["params"]=l),r(s)}function s(t,e){return t+e}},"84ed":function(t,e,a){},b64b:function(t,e,a){var n=a("23e7"),o=a("7b0b"),r=a("df75"),l=a("d039"),s=l((function(){r(1)}));n({target:"Object",stat:!0,forced:s},{keys:function(t){return r(o(t))}})},d81d:function(t,e,a){"use strict";var n=a("23e7"),o=a("b727").map,r=a("1dde"),l=a("ae40"),s=r("map"),i=l("map");n({target:"Array",proto:!0,forced:!s||!i},{map:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}})},e103:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"c-exam"},[a("h1",{staticClass:"c-exam-title"},[t._v("试卷列表")]),a("el-input",{staticClass:"c-exam-filter",attrs:{placeholder:"可选，输入试卷名称"},model:{value:t.nameSearch,callback:function(e){t.nameSearch=e},expression:"nameSearch"}},[a("el-select",{attrs:{slot:"prepend",filterable:"","allow-create":"","default-first-option":"",placeholder:"选择分类"},slot:"prepend",model:{value:t.tagSearch,callback:function(e){t.tagSearch=e},expression:"tagSearch"}},t._l(t.tagOptions,(function(e){return a("el-option-group",{key:e.label,attrs:{label:e.label}},t._l(e.options,(function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)})),1),a("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:t.searchWithQuery},slot:"append"})],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"c-exam-list",staticStyle:{width:"100%"},attrs:{data:t.listData},on:{"sort-change":t.handleSort,"row-click":t.takeExam}},[a("el-table-column",{attrs:{prop:"id",label:"编号",width:"60"}}),a("el-table-column",{attrs:{prop:"title",label:"标题",width:"300"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{staticClass:"c-exam-list-title"},[t._v("《"+t._s(e.row.title)+"》")]),e.row.corner?a("i",{staticClass:"u-mark bg-magenta"},[t._v(t._s(e.row.corner))]):t._e(),e.row.category?a("i",{staticClass:"u-mark bg-black"},[t._v(t._s(e.row.category))]):t._e(),a("p",{staticClass:"c-exam-list-desc"},[t._v(t._s(e.row.desc))])]}}])}),a("el-table-column",{attrs:{prop:"tags",label:"标签",width:"180"},scopedSlots:t._u([{key:"default",fn:function(e){return t._l(JSON.parse(e.row.tags).slice(0,3),(function(e){return a("el-tag",{key:e,attrs:{size:"small"}},[t._v(t._s(e))])}))}}])}),a("el-table-column",{attrs:{prop:"hardStar",label:"难度",width:"120"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-rate",{attrs:{disabled:"","text-color":"#ff9900"},model:{value:e.row.hardStar,callback:function(a){t.$set(e.row,"hardStar",a)},expression:"scope.row.hardStar"}})]}}])}),a("el-table-column",{attrs:{prop:"author",label:"出卷人",width:"120"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.createUser)+" "),a("span",{staticClass:"c-exam-list-authorid"},[t._v("uid: "+t._s(e.row.createUserId))])]}}])}),a("el-table-column",{attrs:{prop:"medalAward",label:"奖励",width:"120"}}),a("el-table-column",{attrs:{prop:"hasTaken",label:"已完成",width:"90"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(null!==e.history?"是":"否"))]}}])}),a("el-table-column",{attrs:{fixed:"right",label:"操作",width:"180"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"primary"},on:{click:function(a){return t.handleEdit(e.$index,e.row)}}},[t._v("开始答卷")])]}}])})],1),a("el-pagination",{staticClass:"c-exam-pages",attrs:{background:"","hide-on-single-page":!0,"current-page":t.page,layout:"total, prev, pager, next, jumper",total:t.total,"page-size":t.pageSize},on:{"current-change":t.changePage,"update:currentPage":function(e){t.page=e},"update:current-page":function(e){t.page=e}}})],1)},o=[],r=(a("d81d"),a("ac1f"),a("5319"),a("408b")),l=a("64c7"),s={name:"ExamList",components:{},data:function(){return{tags:{school:["七秀","万花","五毒","长歌","天策","少林","明教","苍云","纯阳","唐门","藏剑","丐帮","蓬莱","凌雪"],subject:["语文","数学","外语","信息","物理","化学","生物","政治","历史","地理"],game:["PVE","PVP","PVX","PVBB"],play:["副本","宠物","家园","奇遇","成就"],domain:["美容","金融","医学","法学"]},marks:[{label:"官方试卷",value:"official"}],tagSearch:"",nameSearch:"",listData:[],loading:!0,page:0,total:1,pageSize:15,useQuery:!1}},computed:{tagOptions:function(){var t={game:"方向",play:"玩法",school:"门派",subject:"学科",domain:"领域"},e=[];for(var a in t)e.push({label:t[a],options:this.tags[a].map((function(t){return{label:t,value:t}}))});return e}},mounted:function(){this.getExamList()},methods:{getExamList:function(){this.fetchData()},fetchData:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;window.scrollTo(0,0);var a=Object(r["b"])(l["__next"],"api/question/user-exam-paper"),n={page:e};this.useQuery&&(""!==this.tagSearch&&(n["tag"]=this.tagSearch),""!==this.nameSearch&&(n["title"]=this.nameSearch)),this.loading=!0,Object(r["a"])(a,"GET",!1,[],null,n).then((function(e){console.log(e);var a=e.page;a.total&&(t.total=a.total,t.pageSize=a.pageSize),t.listData=e.data})).catch((function(t){console.log(t)})).then((function(){t.loading=!1}))},filterMethod:function(t,e){console.log(123),console.log(t),this.tagSearch=e},handleEdit:function(t,e){console.log(t,e)},handleDelete:function(t,e){console.log(t,e)},handleSort:function(t){var e=t.prop,a=t.order;a?(this.orderBy=e.replace("attributes.",""),this.order="ascending"===a?1:0):(this.orderBy=void 0,this.order=void 0)},takeExam:function(t,e,a){var n=t.id;this.$router.push({name:"exam-take",params:{id:n,examInfo:t}})},changePage:function(t){this.fetchData(t)},searchWithQuery:function(){this.useQuery=!0,this.fetchData(1)}}},i=s,c=(a("2e5e"),a("2877")),u=Object(c["a"])(i,n,o,!1,null,null,null);e["default"]=u.exports}}]);
//# sourceMappingURL=chunk-cc568f88.ef409552.js.map
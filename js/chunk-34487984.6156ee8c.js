(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-34487984"],{"01dd":function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"c-exam-take"},[s("div",{staticClass:"c-exam-take-main"},[s("div",{staticClass:"c-exam-take-title"},[s("h1",[t._v(" "+t._s(t.examInfo?t.examInfo.title:"试卷")+" "),t.examInfo&&t.examInfo.corner?s("i",{staticClass:"u-mark bg-magenta"},[t._v(t._s(t.examInfo.corner))]):t._e()])]),t.examInfo?s("div",{staticClass:"c-exam-take-attr"},[s("h3",[t._v(t._s(t.examInfo.desc))]),s("p",{staticClass:"c-exam-attr-content"},[s("span",{staticClass:"c-exam-attr-prop"},[t._v("出卷人：")]),s("span",{staticClass:"c-exam-attr-value"},[t._v(t._s(t.examInfo.author))])]),t.examInfo.tags?s("p",{staticClass:"c-exam-attr-content"},[s("span",{staticClass:"c-exam-attr-prop"},[t._v("试卷标签：")]),s("span",{staticClass:"c-exam-attr-value"},t._l(JSON.parse(t.examInfo.tags),(function(e){return s("el-tag",{key:e,attrs:{size:"medium"}},[t._v(t._s(e))])})),1)]):t._e(),s("p",{staticClass:"c-exam-attr-content",staticStyle:{"margin-top":"-8px"}},[s("span",{staticClass:"c-exam-attr-prop"},[t._v("总共题数：")]),s("span",{staticClass:"c-exam-attr-value"},[t._v(t._s(t.questionIdList.length))])])]):t._e(),-1!==t.score?s("div",{staticClass:"c-exam-take-result"},[s("p",{staticClass:"result-score"},[s("span",[t._v("您的得分：")]),s("span",{staticStyle:{"font-size":"64px"}},[t._v(t._s(t.score))]),s("span",[t._v("分")])])]):t._e(),t.questionList.length>0?t._l(t.questionList,(function(e,a){return s("el-card",{key:a,staticClass:"box-card"},[s("div",{staticClass:"c-exam-take-content"},[s("h3",{staticClass:"q-text"},[void 0!==t.eachCorrectiveness[e.id]?s("i",{class:{"el-icon-success":t.eachCorrectiveness[e.id],"el-icon-error":!t.eachCorrectiveness[e.id]}}):t._e(),t._v(" "+t._s(a+1)+". "+t._s(e.title)+" ")]),s("div",{staticClass:"q-attr"},[s("p",{staticClass:"q-attr-content"},[s("span",{staticClass:"q-attr-prop"},[t._v("出题人：")]),s("span",{staticClass:"q-attr-value"},[t._v(t._s(e.createUser))])]),e.tags?s("p",{staticClass:"q-attr-content"},[s("span",{staticClass:"q-attr-prop"},[t._v("题目标签：")]),s("span",{staticClass:"q-attr-value"},t._l(JSON.parse(e.tags),(function(e){return s("el-tag",{key:e,attrs:{size:"medium"}},[t._v(t._s(e))])})),1)]):t._e(),s("p",{staticClass:"q-attr-content"},[s("span",{staticClass:"q-attr-prop"},[t._v("难度：")]),s("span",{staticClass:"q-attr-value"},[s("el-rate",{attrs:{disabled:"","text-color":"#ff9900"},model:{value:e.hardStar,callback:function(s){t.$set(e,"hardStar",s)},expression:"question.hardStar"}})],1)])]),s("h4",{staticClass:"q-hint"},[t._v(t._s("checkbox"===e.type?"多选题":"单选题"))]),"checkbox"===e.type?[s("el-checkbox-group",{model:{value:t.userAnswers[e.id],callback:function(s){t.$set(t.userAnswers,e.id,s)},expression:"userAnswers[question.id]"}},t._l(JSON.parse(e.options),(function(a,n){return s("el-checkbox",{key:n,class:{"is-correct-answer":t.isCorrectAnswerClass(e.id,n),"is-wrong-answer":t.isWrongAnswerClass(e.id,n)},attrs:{label:n,border:"",disabled:t.isSubmitted}},[t._v(t._s(String.fromCharCode(65+n))+". "+t._s(a))])})),1)]:[s("el-radio-group",{model:{value:t.userAnswers[e.id],callback:function(s){t.$set(t.userAnswers,e.id,s)},expression:"userAnswers[question.id]"}},t._l(JSON.parse(e.options),(function(a,n){return s("el-radio",{key:n,class:{"is-correct-answer":t.isCorrectAnswerClass(e.id,n),"is-wrong-answer":t.isWrongAnswerClass(e.id,n)},attrs:{label:n,border:"",disabled:t.isSubmitted}},[t._v(t._s(String.fromCharCode(65+n))+". "+t._s(a))])})),1)],void 0!==t.whyami[e.id]?s("div",{staticClass:"q-whyami"},[s("el-divider",{attrs:{"content-position":"left"}},[t._v("解析")]),s("div",{staticClass:"q-whyami-content",domProps:{innerHTML:t._s(t.whyami[e.id])}})],1):t._e()],2)])})):t._e(),s("div",{staticClass:"c-exam-take-btn"},[t.isSubmitted?t._e():s("el-button",{attrs:{type:"success"},on:{click:t.preSubmitPaper}},[t._v("提交试卷")])],1)],2)])},n=[],r=(s("99af"),s("4160"),s("caad"),s("d81d"),s("b64b"),s("d3b7"),s("ac1f"),s("25f0"),s("2532"),s("5319"),s("159b"),s("408b")),i=s("64c7"),o=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"m-extend"},["single"==t.mode?s("single_side"):s("list_side")],1)},c=[],l=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"m-list-side"},[s("RightSideMsg",[s("em",[t._v("家园玩法交流群")]),t._v(" : "),s("strong",[s("a",{attrs:{href:"https://jq.qq.com/?_wv=1027&k=InbtJGcw"}},[t._v("658035079")])])]),s("div",{staticClass:"m-side-rank"},[s("h3",{staticClass:"c-sidebar-right-title"},[s("svg",{class:"u-icon",attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512","svg-inline":"",role:"presentation",focusable:"false",tabindex:"-1"}},[s("g",{attrs:{fill:"#ffa91e"}},[s("path",{attrs:{d:"M324.891 167.266l16.262 94.815L256 217.314l-85.153 44.767 16.262-94.815-68.891-67.16 95.205-13.833L256 0l42.577 86.273 95.205 13.833z"}}),s("path",{attrs:{d:"M409.944 253.46v87.673L256.9 403.303l-.9-.36-153.944-61.76V253.46L256 315.219z"}}),s("path",{attrs:{d:"M409.944 362.157v87.673L256.9 512l-.9-.36-153.944-61.76v-87.723L256 423.916z"}})]),s("g",{attrs:{fill:"#ff8900"}},[s("path",{attrs:{d:"M341.153 262.081L256 217.314V0l42.577 86.273 95.205 13.833-68.891 67.16zM409.944 253.46v87.673L256.9 403.303l-.9-.36v-87.724zM256 423.916l153.944-61.759v87.673L256.9 512l-.9-.36z"}})])]),t._v(" 最高花价 "),s("router-link",{staticClass:"u-more",attrs:{to:"/rank"}},[t._v("完整榜单 »")])],1)]),s("div",{staticClass:"m-side-links"},[s("h3",{staticClass:"c-sidebar-right-title"},[s("svg",{class:"u-icon",attrs:{height:"512",viewBox:"0 0 512 512",width:"512",xmlns:"http://www.w3.org/2000/svg","svg-inline":"",role:"presentation",focusable:"false",tabindex:"-1"}},[s("path",{attrs:{d:"M256 256h85.333v21.333C341.333 300.897 360.436 320 384 320s42.667-19.103 42.667-42.667V256H512V42.667C512 19.103 492.897 0 469.333 0H256z",fill:"#dd636e"}}),s("path",{attrs:{d:"M469.333 0H384v320c23.564 0 42.667-19.103 42.667-42.667V256H512V42.667C512 19.103 492.897 0 469.333 0z",fill:"#d82e3d"}}),s("path",{attrs:{d:"M256 256v-85.333h21.333C300.897 170.667 320 151.564 320 128s-19.103-42.667-42.667-42.667H256V0H42.667C19.103 0 0 19.103 0 42.667V256z",fill:"#ffe646"}}),s("path",{attrs:{d:"M277.333 85.333H256V0H128v256h128v-85.333h21.333C300.898 170.667 320 151.564 320 128s-19.102-42.667-42.667-42.667z",fill:"#ffc81e"}}),s("path",{attrs:{d:"M256 256h-85.333v-21.333C170.667 211.102 151.564 192 128 192s-42.667 19.102-42.667 42.667V256H0v213.333C0 492.897 19.103 512 42.667 512H256z",fill:"#d49eee"}}),s("path",{attrs:{d:"M256 512V256h-85.333v-21.333C170.667 211.103 151.564 192 128 192v320z",fill:"#b77ede"}}),s("path",{attrs:{d:"M256 256v85.333h-21.333C211.102 341.333 192 360.436 192 384s19.102 42.667 42.667 42.667H256V512h213.333C492.897 512 512 492.897 512 469.333V256z",fill:"#badc1e"}}),s("path",{attrs:{d:"M384 512h85.333C492.897 512 512 492.897 512 469.333V256H384z",fill:"#73be14"}}),s("path",{attrs:{d:"M341.333 249v28.333C341.333 300.897 360.436 320 384 320s42.667-19.103 42.667-42.667V249z",fill:"#dd636e"}}),s("path",{attrs:{d:"M384 246v74c23.564 0 42.667-19.103 42.667-42.667V246z",fill:"#d82e3d"}})]),t._v(" 相关链接 ")]),t._m(0)])],1)},u=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"c-sidebar-right-list"},[s("a",{staticClass:"u-item",attrs:{href:"https://www.jx3box.com/tool/13948/",target:"_blank"}},[t._v("如何导出家园蓝图？")])])}],d={name:"list_side",props:[],data:function(){return{}},computed:{},methods:{},mounted:function(){},components:{}},f=d,h=s("2877"),p=Object(h["a"])(f,l,u,!1,null,null,null),m=p.exports,v=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},g=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"m-single-side"},[s("div",{attrs:{id:"directory"}})])}],b={name:"single_side",props:[],data:function(){return{}},computed:{},methods:{},filters:{},mounted:function(){}},_=b,x=Object(h["a"])(_,v,g,!1,null,null,null),w=x.exports,C={name:"Extend",props:[],data:function(){return{}},computed:{mode:function(){return this.$store.state.mode}},methods:{},mounted:function(){},components:{list_side:m,single_side:w}},k=C,q=(s("e1ea"),Object(h["a"])(k,o,c,!1,null,null,null)),y=(q.exports,s("ee8f")),A={name:"TakeExam",components:{},data:function(){return{loading:!0,examInfo:{title:"试卷"},marks:[{label:"官方试卷",value:"official"}],userAnswers:{},chosenOptions:null,questionCount:10,questionIdList:[],questionList:[],currentQuestionNumber:1,isSubmitted:!1,correctCount:-1,score:-1,correctAnswers:{},eachCorrectiveness:{},whyami:{}}},computed:{},watch:{},mounted:function(){先判断是否登录,this.checkLogin()},methods:{checkLogin:function(){y["User"].isLogin()?this.getExamInfo():(this.$message.error("请先登录"),y["User"].destroy(),setTimeout((function(){y["User"].toLogin()}),1e3))},getExamInfo:function(){var t=this;if(!this.$route.params.id)return this.$message.error("试卷不存在！"),setTimeout((function(){t.$router.replace("/list")}),2e3),!1;this.examid=this.$route.params.id;var e=this.$route.params;e&&(this.examInfo=e.examInfo),this.loading=!0;var s=Object(r["b"])(i["__next"],"api/question/user-exam-paper/");s+=this.examid,s+="?details",Object(r["a"])(s,"GET").then((function(e){if(console.log(e),!e.id)return t.$message.error("试卷不存在！"),setTimeout((function(){t.$router.replace("/list")}),1e3),!1;t.examid=e.id;var s=null;t.marks.forEach((function(t){t.value===e.corner&&(s=t.label)})),t.examInfo={category:e.category,corner:s,desc:e.desc,medalAward:e.medalAward,title:e.title,tags:e.tags,author:e.createUser},t.questionIdList=e.questionIdList;var a=e.questionDetailList,n={};a.forEach((function(t){"checkbox"===t.type?n[t.id]=[]:n[t.id]=null})),t.userAnswers=n,t.questionList=a,t.questionCount=t.questionIdList.length})).catch((function(t){console.log(t)})).then((function(){t.loading=!1}))},preSubmitPaper:function(){var t=this,e={},s=!0,a=function(a){for(var n=t.userAnswers[a],r=[],i=0;i<t.questionList.length;++i)if(t.questionList[i].id==a){r=t.questionList[i].options;break}r=JSON.parse(r),null===n?s=!1:"number"!==typeof n?0===n.length?s=!1:e[a]=n.map((function(t){return r[t]})):e[a]=[r[n]]};for(var n in this.userAnswers)a(n);s?this.submitPaper(e):this.$confirm("还没有完成所有题目的作答，是否继续答题？","提示",{cancelButtonText:"继续答题",confirmButtonText:"不管了，我要交卷",type:"warning"}).then((function(){0===Object.keys(e).length?t.$alert("不能交白卷哦~","提交失败",{type:"error"}):t.submitPaper(e)})).catch((function(){return!1}))},submitPaper:function(t){var e=this;this.$confirm("提交试卷后将无法再修改作答，且每套试卷只能作答一次。是否确定提交？","提示",{cancelButtonText:"我再看看",confirmButtonText:"确定提交",type:"warning"}).then((function(){e.isSubmitted=!0,e.loading=!0;var s=Object(r["b"])(i["__next"],"api/question/user-exam-paper/".concat(e.examid,"/i-finish-all"));Object(r["a"])(s,"POST",!0,t).then((function(t){t.questionCount?(e.correctCount=t.correct,e.score=t.score,window.scrollTo(0,0),e.getSolution()):(e.isSubmitted=!1,t.msg&&e.$message.error("[".concat(t.code,"]").concat(t.msg)))})).catch((function(t){switch(e.isSubmitted=!1,t.code){case-1:e.$message.error(t.msg);break;case 9999:e.$message.error("登录失效, 请重新登录"),y["User"].destroy(),setTimeout((function(){y["User"].toLogin()}),1e3);break;default:e.$message.error("[".concat(t.code,"]").concat(t.msg))}})).then((function(){e.loading=!1}))})).catch((function(){return!1}))},getSolution:function(){var t=this;this.loading=!0;var e=Object(r["b"])(i["__next"],"api/question/user-exam-paper/".concat(this.examid,"/i-need-answer"));Object(r["a"])(e,"GET",!0).then((function(e){if(console.log(e),e.paper&&e.paper.questionDetailList){var s=e.paper.questionDetailList,a={},n={},r={};s.forEach((function(t){a[t.id]=t.answerList,n[t.id]=t.answerList.sort().toString()===t.myAnswer.sort().toString(),r[t.id]=t.whyami})),t.correctAnswers=a,t.eachCorrectiveness=n,t.whyami=r}})).catch((function(e){switch(e.code){case-1:t.$message.error(e.msg);break;case 9999:t.$message.error("登录失效, 请重新登录"),y["User"].destroy(),setTimeout((function(){y["User"].toLogin()}),1e3);break;default:t.$message.error("[".concat(e.code,"]").concat(e.msg))}})).then((function(){t.loading=!1}))},isCorrectAnswerClass:function(t,e){return Object.keys(this.correctAnswers).length>0&&this.correctAnswers[t].includes(e)},isWrongAnswerClass:function(t,e){if(Object.keys(this.correctAnswers).length>0&&!this.correctAnswers[t].includes(e)&&null!==this.userAnswers[t]){if(this.userAnswers[t]===e)return!0;if("number"!==typeof this.userAnswers[t])return this.userAnswers[t].includes(e)}return!1}}},L=A,S=(s("8b33"),Object(h["a"])(L,a,n,!1,null,null,null));e["default"]=S.exports},"159b":function(t,e,s){var a=s("da84"),n=s("fdbc"),r=s("17c2"),i=s("9112");for(var o in n){var c=a[o],l=c&&c.prototype;if(l&&l.forEach!==r)try{i(l,"forEach",r)}catch(u){l.forEach=r}}},"17c2":function(t,e,s){"use strict";var a=s("b727").forEach,n=s("a640"),r=s("ae40"),i=n("forEach"),o=r("forEach");t.exports=i&&o?[].forEach:function(t){return a(this,t,arguments.length>1?arguments[1]:void 0)}},"25f0":function(t,e,s){"use strict";var a=s("6eeb"),n=s("825a"),r=s("d039"),i=s("ad6d"),o="toString",c=RegExp.prototype,l=c[o],u=r((function(){return"/a/b"!=l.call({source:"a",flags:"b"})})),d=l.name!=o;(u||d)&&a(RegExp.prototype,o,(function(){var t=n(this),e=String(t.source),s=t.flags,a=String(void 0===s&&t instanceof RegExp&&!("flags"in c)?i.call(t):s);return"/"+e+"/"+a}),{unsafe:!0})},"408b":function(t,e,s){"use strict";s.d(e,"a",(function(){return i})),s.d(e,"b",(function(){return o}));s("b64b"),s("d3b7");var a=s("bc3a"),n=s.n(a);function r(t){return new Promise((function(e,s){var a=n.a.create({headers:{"Content-Type":"application/json",Accept:"application/json"},timeout:1e4});a(t).then((function(t){e(t.data)})).catch((function(t){console.log(t.response),t.response?t.response.data.code?s(t.response.data):s({msg:t.response.data,code:t.response.status}):s({msg:"网络请求异常",code:-1})}))}))}function i(t,e,s,a,n,i){var o={url:""+t,method:e||"GET"};return o["withCredentials"]=void 0!==s&&s,void 0!=a&&Object.keys(a).length>0&&(o["data"]=a),void 0!=n&&""!==n&&(o["headers"]=n),void 0!=i&&Object.keys(i).length>0&&(o["params"]=i),r(o)}function o(t,e){return t+e}},4160:function(t,e,s){"use strict";var a=s("23e7"),n=s("17c2");a({target:"Array",proto:!0,forced:[].forEach!=n},{forEach:n})},"8b33":function(t,e,s){"use strict";var a=s("fa8e"),n=s.n(a);n.a},b64b:function(t,e,s){var a=s("23e7"),n=s("7b0b"),r=s("df75"),i=s("d039"),o=i((function(){r(1)}));a({target:"Object",stat:!0,forced:o},{keys:function(t){return r(n(t))}})},b9a8:function(t,e,s){const{__server:a}=s("64c7"),n={github:{client_id:"5fbf7a66cd7d3d0f5153",authorize_uri:"https://github.com/login/oauth/authorize",callback:`${a}oauth/github/callback`},qq:{client_id:"101870778",authorize_uri:"https://graph.qq.com/oauth2.0/authorize",callback:`${a}oauth/qq/callback`},weibo:{client_id:"601200765",authorize_uri:"https://api.weibo.com/oauth2/authorize",callback:"https://www.jx3box.com/wp-json/qqworld-passport/v1/module/weibo/"}};t.exports=n},c56e:function(t,e,s){},d81d:function(t,e,s){"use strict";var a=s("23e7"),n=s("b727").map,r=s("1dde"),i=s("ae40"),o=r("map"),c=i("map");a({target:"Array",proto:!0,forced:!o||!c},{map:function(t){return n(this,t,arguments.length>1?arguments[1]:void 0)}})},e1ea:function(t,e,s){"use strict";var a=s("c56e"),n=s.n(a);n.a},ee8f:function(t,e,s){const a=s("64c7"),n=s("fa0b"),r=s("85e4"),i=s("c9d2"),o=s("b9a8");t.exports={JX3BOX:a,SEO:n,Utils:r,User:i,OAuth:o}},fa0b:function(t){t.exports=JSON.parse('{"title":" &raquo; JX3BOX - 一站式剑网3资源工具站","keys":"jx3box,剑三魔盒,剑三宏,剑三插件,剑三辅助,副本攻略,副本解包,团队监控,捏脸数据,剑3数据库,成就百科,剑三成就,剑3,剑网3,剑三box,剑三百科","desc":"JX3BOX - 剑三魔盒是一个以剑网3游戏为主的专业攻略资源站，这里干货满满，大神多多，为你的武侠江湖之路助力。剑三魔盒，玩家贴心的小助手。"}')},fa8e:function(t,e,s){}}]);
//# sourceMappingURL=chunk-34487984.6156ee8c.js.map
(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5083992d"],{"408b":function(t,e,a){"use strict";a.d(e,"a",(function(){return i})),a.d(e,"b",(function(){return s}));a("b64b"),a("d3b7");var n=a("bc3a"),o=a.n(n);function r(t){return new Promise((function(e,a){var n=o.a.create({headers:{"Content-Type":"application/json",Accept:"application/json"},timeout:1e4});n(t).then((function(t){e(t.data)})).catch((function(t){console.log(t.response),t.response?t.response.data.code?a(t.response.data):a({msg:t.response.data,code:t.response.status}):a({msg:"网络请求异常",code:-1})}))}))}function i(t,e,a,n,o,i){var s={url:""+t,method:e||"GET"};return s["withCredentials"]=void 0!==a&&a,void 0!=n&&Object.keys(n).length>0&&(s["data"]=n),void 0!=o&&""!==o&&(s["headers"]=o),void 0!=i&&Object.keys(i).length>0&&(s["params"]=i),r(s)}function s(t,e){return t+e}},4790:function(t,e,a){},ad8b:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"c-question"},[a("h1",{staticClass:"c-question-title"},[t._v("题目列表")]),a("el-input",{staticClass:"c-question-filter",attrs:{placeholder:"可选，输入题目名称"},on:{change:t.searchWithQuery},model:{value:t.nameSearch,callback:function(e){t.nameSearch=e},expression:"nameSearch"}},[a("el-select",{attrs:{slot:"prepend",filterable:"","allow-create":"","default-first-option":"",placeholder:"选择分类"},on:{change:t.searchWithQuery},slot:"prepend",model:{value:t.tagSearch,callback:function(e){t.tagSearch=e},expression:"tagSearch"}},[a("el-option",{attrs:{label:"全部",value:""}}),t._l(t.tagOptions,(function(e){return a("el-option-group",{key:e.label,attrs:{label:e.label}},t._l(e.options,(function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)}))],2),a("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:t.searchWithQuery},slot:"append"})],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"c-question-list",staticStyle:{width:"100%"},attrs:{data:t.listData},on:{"sort-change":t.handleSort,"row-click":t.takeQuestion}},[a("el-table-column",{attrs:{prop:"id",label:"编号",width:"60"}}),a("el-table-column",{attrs:{prop:"title",label:"标题"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{staticClass:"c-question-list-title"},[t._v(t._s(t.filteredTitle(e.row.title)))])]}}])}),a("el-table-column",{attrs:{prop:"tags",label:"标签",width:"180"},scopedSlots:t._u([{key:"default",fn:function(e){return t._l(JSON.parse(e.row.tags).slice(0,3),(function(e){return a("el-tag",{key:e,attrs:{size:"small"}},[t._v(t._s(e))])}))}}])}),a("el-table-column",{attrs:{prop:"hardStar",label:"难度",width:"120"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-rate",{attrs:{disabled:"","text-color":"#ff9900"},model:{value:e.row.hardStar,callback:function(a){t.$set(e.row,"hardStar",a)},expression:"scope.row.hardStar"}})]}}])}),a("el-table-column",{attrs:{prop:"author",label:"出题人",width:"180"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.createUser)+" ")]}}])}),a("el-table-column",{attrs:{fixed:"right",label:"操作",width:"120"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"primary"},on:{click:function(a){return t.handleEdit(e.$index,e.row)}}},[t._v("去答题")])]}}])})],1),a("el-pagination",{staticClass:"c-question-pages",attrs:{background:"","hide-on-single-page":!0,"current-page":t.page,layout:"total, prev, pager, next, jumper",total:t.total,"page-size":t.pageSize},on:{"current-change":t.changePage,"update:currentPage":function(e){t.page=e},"update:current-page":function(e){t.page=e}}})],1)},o=[],r=(a("d81d"),a("ac1f"),a("5319"),a("408b")),i=a("64c7"),s={name:"QuestionList",components:{},data:function(){return{tags:{school:["七秀","万花","五毒","长歌","天策","少林","明教","苍云","纯阳","唐门","藏剑","丐帮","蓬莱","凌雪"],subject:["语文","数学","外语","信息","物理","化学","生物","政治","历史","地理"],game:["PVE","PVP","PVX","PVBB"],play:["副本","宠物","家园","奇遇","成就"],domain:["美容","金融","医学","法学"]},marks:[{label:"官方试卷",value:"official"}],tagSearch:"",nameSearch:"",listData:[],loading:!0,page:0,total:1,pageSize:15,useQuery:!1}},computed:{filteredTitle:function(){return function(t){var e=/<[^<>]+>/g;return t=t.replace(e,""),t=t.replace(/&nbsp;/gi,""),t}},tagOptions:function(){var t={game:"方向",play:"玩法",school:"门派",subject:"学科",domain:"领域"},e=[];for(var a in t)e.push({label:t[a],options:this.tags[a].map((function(t){return{label:t,value:t}}))});return e}},mounted:function(){this.getQuestionList()},methods:{getQuestionList:function(){this.$route.params.tag&&(this.tagSearch=this.$route.params.tag),this.fetchData()},fetchData:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;window.scrollTo(0,0);var a=Object(r["b"])(i["__next"],"api/question/public-list"),n={pageIndex:e};this.useQuery&&(""!==this.tagSearch&&(n["tag"]=this.tagSearch),""!==this.nameSearch&&(n["title"]=this.nameSearch)),this.loading=!0,Object(r["a"])(a,"GET",!1,[],null,n).then((function(e){var a=e.page;a.total&&(t.total=a.total,t.pageSize=a.pageSize),t.listData=e.data})).catch((function(t){console.log(t)})).then((function(){t.loading=!1}))},filterMethod:function(t,e){this.tagSearch=e},handleEdit:function(t,e){},handleDelete:function(t,e){},handleSort:function(t){var e=t.prop,a=t.order;a?(this.orderBy=e.replace("attributes.",""),this.order="ascending"===a?1:0):(this.orderBy=void 0,this.order=void 0)},takeQuestion:function(t,e,a){var n=t.id;this.$router.push({name:"question-take",params:{id:n,questionInfo:t}})},changePage:function(t){this.fetchData(t)},searchWithQuery:function(){this.useQuery=!0,this.fetchData(1)}}},l=s,c=(a("c044"),a("2877")),u=Object(c["a"])(l,n,o,!1,null,null,null);e["default"]=u.exports},b64b:function(t,e,a){var n=a("23e7"),o=a("7b0b"),r=a("df75"),i=a("d039"),s=i((function(){r(1)}));n({target:"Object",stat:!0,forced:s},{keys:function(t){return r(o(t))}})},c044:function(t,e,a){"use strict";var n=a("4790"),o=a.n(n);o.a}}]);
//# sourceMappingURL=chunk-5083992d.95a03eab.js.map
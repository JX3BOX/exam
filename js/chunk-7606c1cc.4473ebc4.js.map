{"version":3,"sources":["webpack:///./src/components/exam/TakeExam.vue?c6ef","webpack:///./src/service/exam.js","webpack:///src/components/exam/TakeExam.vue","webpack:///./src/components/exam/TakeExam.vue?5245","webpack:///./src/components/exam/TakeExam.vue","webpack:///./node_modules/core-js/modules/es.regexp.to-string.js","webpack:///./src/service/axios.js","webpack:///./src/service/admin.js","webpack:///./src/components/exam/TakeExam.vue?ab3e","webpack:///./node_modules/core-js/modules/es.array.join.js","webpack:///./src/components/exam/TakeExam.vue?6ba3"],"names":["render","_vm","this","_h","$createElement","_c","_self","directives","name","rawName","value","expression","staticClass","_v","_s","examInfo","title","staticStyle","attrs","id","on","edit","_e","$event","check","desc","paperAuthorLink","author","_l","JSON","parse","tags","tag","key","_m","views","score","sharingTitle","questionList","length","question","index","type","model","userAnswers","callback","$$v","$set","options","option","class","isCorrectAnswerClass","isWrongAnswerClass","isSubmitted","String","fromCharCode","getQAuthorLink","createUserId","createUser","undefined","eachCorrectiveness","userAnswerDisplayString","correctAnswers","map","each","join","whyami","loading","preSubmitPaper","staticRenderFns","getExam","examid","$next","proxy","get","submitAnswer","answers","force","post","getAnswer","component","redefine","anObject","fails","flags","TO_STRING","RegExpPrototype","RegExp","prototype","nativeToString","NOT_GENERIC","call","source","INCORRECT_NAME","R","p","rf","f","unsafe","axios","create","baseURL","__server","withCredentials","__next","API","checkQuestion","action","put","params","checkPaper","$","IndexedObject","toIndexedObject","arrayMethodIsStrict","nativeJoin","ES3_STRINGS","Object","STRICT_METHOD","target","proto","forced","separator"],"mappings":"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","file":"js/chunk-7606c1cc.4473ebc4.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],staticClass:\"c-exam-take\"},[_c('div',{staticClass:\"c-exam-take-main\"},[_c('div',{staticClass:\"c-exam-take-title\"},[_c('h1',[_vm._v(\" 《\"+_vm._s(_vm.examInfo ? _vm.examInfo.title : \"试卷\")+\"》 \")]),_c('div',{staticClass:\"m-exam-op\"},[_c('Fav',{staticStyle:{\"padding-top\":\"9px\",\"padding-bottom\":\"9px\"},attrs:{\"post-type\":\"paper\",\"post-id\":_vm.id}}),(_vm.isAuthor)?_c('el-button',{attrs:{\"type\":\"primary\",\"plain\":\"\",\"size\":\"small\",\"icon\":\"el-icon-edit-outline\"},on:{\"click\":_vm.edit}},[_vm._v(\"编辑\")]):_vm._e(),(_vm.isAdmin)?_c('el-button',{attrs:{\"type\":\"danger\",\"plain\":\"\",\"size\":\"small\",\"icon\":\"el-icon-delete\"},on:{\"click\":function($event){return _vm.check('delete')}}},[_vm._v(\"删除\")]):_vm._e()],1)]),(_vm.examInfo)?_c('div',{staticClass:\"c-exam-take-attr\"},[_c('h3',[_vm._v(_vm._s(_vm.examInfo.desc))]),_c('p',{staticClass:\"c-exam-attr-content\"},[_c('span',{staticClass:\"c-exam-attr-prop\"},[_vm._v(\"出卷人：\")]),_c('span',{staticClass:\"c-exam-attr-value\"},[_c('el-link',{attrs:{\"href\":_vm.paperAuthorLink,\"target\":\"_blank\",\"underline\":false}},[_vm._v(\" \"+_vm._s(_vm.examInfo.author)+\" \")])],1)]),(_vm.examInfo.tags)?_c('p',{staticClass:\"c-exam-attr-content\"},[_c('span',{staticClass:\"c-exam-attr-prop\"},[_vm._v(\"试卷标签：\")]),_c('span',{staticClass:\"c-exam-attr-value\"},_vm._l((JSON.parse(_vm.examInfo.tags)),function(tag){return _c('el-tag',{key:tag,attrs:{\"size\":\"medium\"}},[_vm._v(_vm._s(tag))])}),1)]):_vm._e(),_vm._m(0),(_vm.views >= 0)?_c('span',{staticClass:\"u-views\"},[_c('i',{staticClass:\"el-icon-view\"},[_vm._v(\" \"+_vm._s(_vm.views))])]):_vm._e(),_c('QRcode'),_c('span',{staticStyle:{\"margin-left\":\"10px\"}},[(_vm.score >= 0)?_c('Sharing',{key:\"beforeTest\",attrs:{\"title\":_vm.sharingTitle,\"img\":\"./assets/img/100.svg\"}}):_c('Sharing',{key:\"afterTest\",attrs:{\"title\":_vm.sharingTitle,\"img\":\"./assets/img/100.svg\"}})],1)],1):_vm._e(),(_vm.score !== -1)?_c('div',{staticClass:\"c-exam-take-result\"},[_c('p',{staticClass:\"result-score\"},[_vm._v(_vm._s(_vm.score))]),_c('p',{staticClass:\"result-text\"},[_vm._v(\"本次得分\")])]):_vm._e(),(_vm.questionList.length > 0)?_vm._l((_vm.questionList),function(question,index){return _c('div',{key:index,staticClass:\"question-row\"},[_c('el-card',{staticClass:\"box-card\"},[_c('div',{staticClass:\"card-header\"},[_c('div',{staticClass:\"card-header-left\"},[_vm._v(_vm._s(index + 1))]),_c('div',{staticClass:\"card-header-right\"},[_c('span',{staticClass:\"q-attr-value\"},_vm._l((JSON.parse(question.tags)),function(tag){return _c('el-tag',{key:tag,attrs:{\"size\":\"small\"}},[_vm._v(_vm._s(tag))])}),1)])]),_c('div',{staticClass:\"c-exam-take-content\"},[_c('h3',{staticClass:\"q-text\"},[_c('span',{staticClass:\"q-hint\"},[_vm._v(\" [\"+_vm._s(question.type === \"checkbox\" ? \"多选题\" : \"单选题\")+\"] \")]),_c('Article',{attrs:{\"content\":question.title}})],1),(question.type === 'checkbox')?[_c('el-checkbox-group',{model:{value:(_vm.userAnswers[question.id]),callback:function ($$v) {_vm.$set(_vm.userAnswers, question.id, $$v)},expression:\"userAnswers[question.id]\"}},_vm._l((JSON.parse(\n                                        question.options\n                                    )),function(option,index){return _c('el-checkbox',{key:index,class:{\n                                        'is-correct-answer':\n                                            _vm.isCorrectAnswerClass(\n                                                question.id,\n                                                index\n                                            ),\n                                        'is-wrong-answer':\n                                            _vm.isWrongAnswerClass(\n                                                question.id,\n                                                index\n                                            ),\n                                    },attrs:{\"label\":index,\"border\":\"\",\"disabled\":_vm.isSubmitted}},[_vm._v(\" \"+_vm._s(String.fromCharCode(65 + index))+\". \"),_c('Article',{attrs:{\"content\":option}})],1)}),1)]:[_c('el-radio-group',{model:{value:(_vm.userAnswers[question.id]),callback:function ($$v) {_vm.$set(_vm.userAnswers, question.id, $$v)},expression:\"userAnswers[question.id]\"}},_vm._l((JSON.parse(\n                                        question.options\n                                    )),function(option,index){return _c('el-radio',{key:index,class:{\n                                        'is-correct-answer':\n                                            _vm.isCorrectAnswerClass(\n                                                question.id,\n                                                index\n                                            ),\n                                        'is-wrong-answer':\n                                            _vm.isWrongAnswerClass(\n                                                question.id,\n                                                index\n                                            ),\n                                    },attrs:{\"label\":index,\"border\":\"\",\"disabled\":_vm.isSubmitted}},[_vm._v(\" \"+_vm._s(String.fromCharCode(65 + index))+\". \"),_c('Article',{attrs:{\"content\":option}})],1)}),1)],_c('div',{staticClass:\"q-attr\"},[_c('p',{staticClass:\"q-attr-content u-author\"},[_c('span',{staticClass:\"q-attr-prop\"},[_vm._v(\"出题人：\")]),_c('span',{staticClass:\"q-attr-value\"},[_c('el-link',{attrs:{\"href\":_vm.getQAuthorLink(\n                                                question.createUserId\n                                            ),\"target\":\"_blank\"}},[_vm._v(_vm._s(question.createUser))])],1)]),_c('p',{staticClass:\"q-attr-content u-hardstar\"},[_c('span',{staticClass:\"q-attr-prop\"},[_vm._v(\"难度：\")]),_c('span',{staticClass:\"q-attr-value\"},[_c('el-rate',{attrs:{\"disabled\":\"\",\"text-color\":\"#ff9900\"},model:{value:(question.hardStar),callback:function ($$v) {_vm.$set(question, \"hardStar\", $$v)},expression:\"question.hardStar\"}})],1)])])],2)]),(_vm.eachCorrectiveness[question.id] !== undefined)?_c('el-card',{staticClass:\"box-card-result\"},[(_vm.userAnswers[question.id] === null)?_c('p',{staticClass:\"card-result-status\",staticStyle:{\"color\":\"#f12e2e\"}},[_vm._v(\" 未作答 \")]):(_vm.eachCorrectiveness[question.id])?_c('p',{staticClass:\"card-result-status\",staticStyle:{\"color\":\"#18ca4e\"}},[_vm._v(\" 回答正确 \")]):_c('p',{staticClass:\"card-result-status\",staticStyle:{\"color\":\"#f12e2e\"}},[_vm._v(\" 回答错误 \")]),_c('p',{staticClass:\"card-result-options\"},[_vm._v(\" 你的答案：\"+_vm._s(_vm.userAnswerDisplayString(question.id))+\" \")]),_c('p',{staticClass:\"card-result-options\"},[_vm._v(\" 正确答案：\"+_vm._s(_vm.correctAnswers[question.id] .map(function (each) { return String.fromCharCode(65 + each); }) .join(\"\"))+\" \")]),_c('el-divider'),_c('p',{staticStyle:{\"color\":\"#2682ea\",\"font-size\":\"20px\",\"font-weight\":\"800\"}},[_vm._v(\" 解析： \")]),_c('Article',{attrs:{\"content\":_vm.whyami[question.id]}})],1):_vm._e()],1)}):_vm._e(),_c('div',{staticClass:\"c-exam-take-btn\"},[(!_vm.isSubmitted && !_vm.loading && _vm.questionList.length > 0)?_c('el-button',{attrs:{\"type\":\"success\"},on:{\"click\":_vm.preSubmitPaper}},[_vm._v(\"提交试卷\")]):_vm._e()],1)],2),_c('div',{staticClass:\"m-exam-comment\"},[_c('el-divider',{attrs:{\"content-position\":\"left\"}},[_vm._v(\"讨论\")]),_c('Comment',{attrs:{\"id\":_vm.id,\"category\":\"paper\"}})],1)])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('p',{staticClass:\"c-exam-attr-content\",staticStyle:{\"margin-top\":\"-8px\"}},[_c('span',{staticClass:\"c-exam-attr-prop\"},[_vm._v(\"总共题数：\")]),_c('span',{staticClass:\"c-exam-attr-value\"},[_vm._v(\"共10题，每题10分，满分100分。\")])])}]\n\nexport { render, staticRenderFns }","import { $next } from \"@jx3box/jx3box-common/js/https.js\";\n\nfunction getExam(examid) {\n    return $next({proxy: true}).get(\"api/question/user-exam-paper/\" + examid + \"?details\")\n}\n\nfunction submitAnswer(examid, answers, force=false) {\n    return $next({proxy: true}).post(`api/question/user-exam-paper/${examid}/i-finish-all${force ? '?force' : ''}`, answers)\n}\n\nfunction getAnswer(examid) {\n    return $next({proxy: true}).post(`api/question/user-exam-paper/${examid}/i-need-answer`)\n}\n\nexport {\n    getExam,\n    submitAnswer,\n    getAnswer\n};","<template>\n    <div class=\"c-exam-take\" v-loading=\"loading\">\n        <div class=\"c-exam-take-main\">\n            <div class=\"c-exam-take-title\">\n                <h1>\n                    《{{ examInfo ? examInfo.title : \"试卷\" }}》\n                    <!-- <i\n                        class=\"u-mark bg-magenta\"\n                        v-if=\"examInfo && examInfo.corner\"\n                    >{{examInfo.corner}}</i>-->\n                </h1>\n                <div class=\"m-exam-op\">\n                    <Fav\n                        style=\"padding-top: 9px; padding-bottom: 9px\"\n                        post-type=\"paper\"\n                        :post-id=\"id\"\n                    />\n                    <el-button\n                        v-if=\"isAuthor\"\n                        type=\"primary\"\n                        plain\n                        size=\"small\"\n                        icon=\"el-icon-edit-outline\"\n                        @click=\"edit\"\n                        >编辑</el-button\n                    >\n                    <el-button\n                        v-if=\"isAdmin\"\n                        type=\"danger\"\n                        plain\n                        size=\"small\"\n                        icon=\"el-icon-delete\"\n                        @click=\"check('delete')\"\n                        >删除</el-button\n                    >\n                </div>\n            </div>\n            <div class=\"c-exam-take-attr\" v-if=\"examInfo\">\n                <h3>{{ examInfo.desc }}</h3>\n                <p class=\"c-exam-attr-content\">\n                    <span class=\"c-exam-attr-prop\">出卷人：</span>\n                    <span class=\"c-exam-attr-value\">\n                        <el-link\n                            :href=\"paperAuthorLink\"\n                            target=\"_blank\"\n                            :underline=\"false\"\n                        >\n                            <!-- <el-avatar :src=\"paperAuthorAvatar\"></el-avatar> -->\n                            {{ examInfo.author }}\n                        </el-link>\n                    </span>\n                </p>\n                <p class=\"c-exam-attr-content\" v-if=\"examInfo.tags\">\n                    <span class=\"c-exam-attr-prop\">试卷标签：</span>\n                    <span class=\"c-exam-attr-value\">\n                        <el-tag\n                            size=\"medium\"\n                            v-for=\"tag of JSON.parse(examInfo.tags)\"\n                            :key=\"tag\"\n                            >{{ tag }}</el-tag\n                        >\n                    </span>\n                </p>\n                <p class=\"c-exam-attr-content\" style=\"margin-top: -8px\">\n                    <span class=\"c-exam-attr-prop\">总共题数：</span>\n                    <!-- <span class=\"c-exam-attr-value\">{{questionIdList.length}}</span> -->\n                    <span class=\"c-exam-attr-value\"\n                        >共10题，每题10分，满分100分。</span\n                    >\n                </p>\n                <span class=\"u-views\" v-if=\"views >= 0\">\n                    <i class=\"el-icon-view\">&nbsp;{{ views }}</i>\n                </span>\n                <QRcode />\n                <span style=\"margin-left: 10px\">\n                    <Sharing\n                        :title=\"sharingTitle\"\n                        img=\"./assets/img/100.svg\"\n                        v-if=\"score >= 0\"\n                        key=\"beforeTest\"\n                    />\n                    <Sharing\n                        :title=\"sharingTitle\"\n                        img=\"./assets/img/100.svg\"\n                        v-else\n                        key=\"afterTest\"\n                    />\n                </span>\n            </div>\n            <div class=\"c-exam-take-result\" v-if=\"score !== -1\">\n                <p class=\"result-score\">{{ score }}</p>\n                <p class=\"result-text\">本次得分</p>\n            </div>\n            <template v-if=\"questionList.length > 0\">\n                <div\n                    class=\"question-row\"\n                    v-for=\"(question, index) of questionList\"\n                    :key=\"index\"\n                >\n                    <el-card class=\"box-card\">\n                        <div class=\"card-header\">\n                            <div class=\"card-header-left\">{{ index + 1 }}</div>\n                            <div class=\"card-header-right\">\n                                <span class=\"q-attr-value\">\n                                    <el-tag\n                                        size=\"small\"\n                                        v-for=\"tag of JSON.parse(question.tags)\"\n                                        :key=\"tag\"\n                                        >{{ tag }}</el-tag\n                                    >\n                                </span>\n                            </div>\n                        </div>\n                        <div class=\"c-exam-take-content\">\n                            <h3 class=\"q-text\">\n                                <!-- <i\n                                v-if=\"eachCorrectiveness[question.id] !== undefined\"\n                                :class=\"{'el-icon-success': eachCorrectiveness[question.id], 'el-icon-error': !eachCorrectiveness[question.id]}\"\n                                ></i>-->\n                                <span class=\"q-hint\">\n                                    [{{\n                                        question.type === \"checkbox\"\n                                            ? \"多选题\"\n                                            : \"单选题\"\n                                    }}]\n                                </span>\n                                <!-- {{ question.title }} -->\n                                <Article :content=\"question.title\"></Article>\n                            </h3>\n\n                            <template v-if=\"question.type === 'checkbox'\">\n                                <el-checkbox-group\n                                    v-model=\"userAnswers[question.id]\"\n                                >\n                                    <el-checkbox\n                                        v-for=\"(option, index) of JSON.parse(\n                                            question.options\n                                        )\"\n                                        :key=\"index\"\n                                        :label=\"index\"\n                                        border\n                                        :disabled=\"isSubmitted\"\n                                        :class=\"{\n                                            'is-correct-answer':\n                                                isCorrectAnswerClass(\n                                                    question.id,\n                                                    index\n                                                ),\n                                            'is-wrong-answer':\n                                                isWrongAnswerClass(\n                                                    question.id,\n                                                    index\n                                                ),\n                                        }\"\n                                    >\n                                        {{ String.fromCharCode(65 + index) }}.\n                                        <Article :content=\"option\"></Article>\n                                    </el-checkbox>\n                                </el-checkbox-group>\n                            </template>\n                            <template v-else>\n                                <el-radio-group\n                                    v-model=\"userAnswers[question.id]\"\n                                >\n                                    <el-radio\n                                        v-for=\"(option, index) of JSON.parse(\n                                            question.options\n                                        )\"\n                                        :key=\"index\"\n                                        :label=\"index\"\n                                        border\n                                        :disabled=\"isSubmitted\"\n                                        :class=\"{\n                                            'is-correct-answer':\n                                                isCorrectAnswerClass(\n                                                    question.id,\n                                                    index\n                                                ),\n                                            'is-wrong-answer':\n                                                isWrongAnswerClass(\n                                                    question.id,\n                                                    index\n                                                ),\n                                        }\"\n                                    >\n                                        {{ String.fromCharCode(65 + index) }}.\n                                        <Article :content=\"option\"></Article>\n                                    </el-radio>\n                                </el-radio-group>\n                            </template>\n\n                            <div class=\"q-attr\">\n                                <p class=\"q-attr-content u-author\">\n                                    <span class=\"q-attr-prop\">出题人：</span>\n                                    <span class=\"q-attr-value\">\n                                        <el-link\n                                            :href=\"\n                                                getQAuthorLink(\n                                                    question.createUserId\n                                                )\n                                            \"\n                                            target=\"_blank\"\n                                            >{{ question.createUser }}</el-link\n                                        >\n                                    </span>\n                                </p>\n\n                                <p class=\"q-attr-content u-hardstar\">\n                                    <span class=\"q-attr-prop\">难度：</span>\n                                    <span class=\"q-attr-value\">\n                                        <el-rate\n                                            v-model=\"question.hardStar\"\n                                            disabled\n                                            text-color=\"#ff9900\"\n                                        ></el-rate>\n                                    </span>\n                                </p>\n                            </div>\n                            <!-- \n                            <div class=\"q-whyami\" v-if=\"whyami[question.id] !== undefined\">\n                                <el-divider content-position=\"left\">解析</el-divider>\n                                <Article :content=\"whyami[question.id]\"></Article>\n                            </div>\n                            -->\n                        </div>\n                    </el-card>\n                    <el-card\n                        class=\"box-card-result\"\n                        v-if=\"eachCorrectiveness[question.id] !== undefined\"\n                    >\n                        <p\n                            class=\"card-result-status\"\n                            style=\"color: #f12e2e\"\n                            v-if=\"userAnswers[question.id] === null\"\n                        >\n                            未作答\n                        </p>\n                        <p\n                            class=\"card-result-status\"\n                            style=\"color: #18ca4e\"\n                            v-else-if=\"eachCorrectiveness[question.id]\"\n                        >\n                            回答正确\n                        </p>\n                        <p\n                            class=\"card-result-status\"\n                            style=\"color: #f12e2e\"\n                            v-else\n                        >\n                            回答错误\n                        </p>\n                        <p class=\"card-result-options\">\n                            你的答案：{{ userAnswerDisplayString(question.id) }}\n                        </p>\n                        <p class=\"card-result-options\">\n                            正确答案：{{\n                                correctAnswers[question.id]\n                                    .map((each) => {\n                                        return String.fromCharCode(65 + each);\n                                    })\n                                    .join(\"\")\n                            }}\n                        </p>\n                        <el-divider></el-divider>\n                        <p\n                            style=\"\n                                color: #2682ea;\n                                font-size: 20px;\n                                font-weight: 800;\n                            \"\n                        >\n                            解析：\n                        </p>\n                        <Article :content=\"whyami[question.id]\"></Article>\n                    </el-card>\n                </div>\n            </template>\n\n            <div class=\"c-exam-take-btn\">\n                <el-button\n                    type=\"success\"\n                    @click=\"preSubmitPaper\"\n                    v-if=\"!isSubmitted && !loading && questionList.length > 0\"\n                    >提交试卷</el-button\n                >\n            </div>\n        </div>\n        <div class=\"m-exam-comment\">\n            <el-divider content-position=\"left\">讨论</el-divider>\n            <Comment :id=\"id\" category=\"paper\" />\n        </div>\n    </div>\n</template>\n\n<script>\nimport { axios, realUrl } from \"@/service/api.js\";\nimport { __next } from \"@jx3box/jx3box-common/data/jx3box.json\";\nimport { JX3BOX } from \"@jx3box/jx3box-common\";\nimport User from \"@jx3box/jx3box-common/js/user\";\nimport {\n    showAvatar,\n    authorLink,\n    publishLink,\n} from \"@jx3box/jx3box-common/js/utils\";\nimport Article from \"@jx3box/jx3box-editor/src/Article.vue\";\nimport Comment from \"@jx3box/jx3box-comment-ui/src/Comment.vue\";\nimport { checkPaper } from \"@/service/admin.js\";\nimport { $next } from \"@/service/axios.js\";\nimport { getExam, submitAnswer, getAnswer } from \"@/service/exam.js\";\nimport { getStat, postStat } from \"@jx3box/jx3box-common/js/stat.js\";\nexport default {\n    name: \"TakeExam\",\n    components: {\n        Comment,\n        Article,\n    },\n    data() {\n        return {\n            examid: -1,\n            views: -1,\n            loading: true,\n            examInfo: { title: \"试卷\" },\n            marks: [{ label: \"官方试卷\", value: \"official\" }],\n            userAnswers: {}, // 储存格式：{id: answer}\n            // isMultiple: false,\n            chosenOptions: null,\n            // currentQuestion: null, // 当前一道题的内容\n            questionCount: 10,\n            questionIdList: [],\n            questionList: [], // 所有题目的数组\n            currentQuestionNumber: 1, // 当前题目是第几题，从1开始\n            isSubmitted: false, // 判断是否已经提交试卷\n            authorAvatarUrl: \"\", // 这个url还没处理过\n\n            correctCount: -1,\n            score: -1,\n            correctAnswers: {},\n            eachCorrectiveness: {},\n            whyami: {},\n            sharingTitle: \"试卷\",\n\n            isAdmin: User.isEditor(),\n            author_id: \"\",\n        };\n    },\n    computed: {\n        paperAuthorAvatar() {\n            return showAvatar(this.authorAvatarUrl, \"s\");\n        },\n        paperAuthorLink() {\n            return authorLink(this.examInfo.authorId);\n        },\n        id: function () {\n            return this.$route.params.id;\n        },\n        isAuthor: function () {\n            return User.isLogin() && User.getInfo().uid == this.author_id;\n        },\n    },\n    watch: {\n        userAnswers: {\n            handler(newVal, oldValue) {\n                if (\n                    Object.keys(this.generateFinalAnswer().finalAnswers)\n                        .length !== 0\n                ) {\n                    // 这个时候判断是否登录\n                    if (location.hostname != \"localhost\") {\n                        this.checkLogin();\n                    }\n                }\n            },\n            deep: true,\n        },\n    },\n    mounted() {\n        // 不先判断是否登录\n        // if (location.hostname != \"localhost\"){\n        //     this.checkLogin();\n        // }else{\n        //     this.getExamInfo();\n        // }\n        // this.getSolution()\n        this.getExamInfo();\n        if (this.$route.name == \"exam-take\") {\n            postStat(\"paper\", this.$route.params.id);\n        }\n    },\n    methods: {\n        checkLogin() {\n            if (!User.isLogin()) {\n                this.$message.error(\"请先登录\");\n                //1.注销\n                User.destroy();\n                //2.保存未提交成功的信息\n                //请保存至IndexedDB,勿占用localstorage\n                //3.跳转至登录页携带redirect\n                setTimeout(() => {\n                    User.toLogin();\n                }, 1000);\n            }\n        },\n        // getAuthorAvatar(uid) {\n        //     axios(`https://server.jx3box.com/user/info?uid=${uid}`, \"GET\")\n        //         .then((response) => {\n        //             this.authorAvatarUrl = response.data.avatar;\n        //         })\n        //         .catch((e) => {\n        //             console.log(e);\n        //         });\n        // },\n        getExamInfo() {\n            // if (this.id) {\n\n            // } else {\n            //     this.$message.error(\"试卷不存在！\");\n            //     setTimeout(() => {\n            //         this.$router.replace(\"/list\");\n            //     }, 2000);\n            //     return false;\n            // }\n\n            this.examid = this.id;\n            let params = this.$route.params;\n            if (params) {\n                this.examInfo = params.examInfo;\n            }\n\n            // 获取试卷信息\n            this.loading = true;\n\n            getExam(this.examid)\n                .then((response) => {\n                    response = response.data;\n                    // if (!response.id) {\n                    //     this.$message.error(\"试卷不存在！\");\n                    //     setTimeout(() => {\n                    //         this.$router.replace(\"/list\");\n                    //     }, 1000);\n                    //     return false;\n                    // }\n                    this.examid = response.id;\n                    this.author_id = response.createUserId;\n\n                    // 获取角标的中文\n                    let tmpMark = null;\n                    this.marks.forEach((mark) => {\n                        if (mark.value === response.corner) {\n                            tmpMark = mark.label;\n                        }\n                    });\n                    this.examInfo = {\n                        category: response.category,\n                        corner: tmpMark,\n                        desc: response.desc,\n                        medalAward: response.medalAward,\n                        title: response.title,\n                        tags: response.tags,\n                        author: response.createUser,\n                        authorId: response.createUserId,\n                    };\n                    // this.getAuthorAvatar(response.createUserId);\n                    this.questionIdList = response.questionIdList;\n                    let questions = response.questionDetailList;\n\n                    let tmpUserAnswers = {};\n                    questions.forEach((question) => {\n                        if (question.type === \"checkbox\") {\n                            tmpUserAnswers[question.id] = [];\n                        } else {\n                            tmpUserAnswers[question.id] = null;\n                        }\n                    });\n                    this.userAnswers = tmpUserAnswers;\n\n                    this.questionList = questions;\n                    this.questionCount = this.questionIdList.length;\n\n                    this.sharingTitle = this.examInfo\n                        ? this.examInfo.title\n                        : \"试卷\";\n\n                    this.getStats();\n\n                    // // this.currentQuestionNumber = 1;\n                    // if (this.questionList[0].type === \"checkbox\") {\n                    //     this.chosenOptions = [];\n                    // } else {\n                    //     this.chosenOptions = null;\n                    // }\n                    // this.loadQuestion();\n                })\n                .catch((e) => {\n                    console.log(e);\n                })\n                .finally(() => {\n                    this.loading = false;\n                });\n        },\n        getStats() {\n            getStat(\"paper\", this.examid)\n                .then((response) => {\n                    if (\"views\" in response.data) {\n                        this.views = response.data.views;\n                    }\n                })\n                .catch((e) => {\n                    e = e.response;\n                    switch (e.status) {\n                        case -1:\n                            // 网络异常\n                            this.$message.error(e.msg);\n                            break;\n                        case 9999:\n                            this.$message.error(\"登录失效, 请重新登录\");\n                            //1.注销\n                            User.destroy();\n                            //2.保存未提交成功的信息\n                            //请保存至IndexedDB,勿占用localstorage\n                            //3.跳转至登录页携带redirect\n                            setTimeout(() => {\n                                User.toLogin();\n                            }, 1000);\n                            //不指定url时则自动跳回当前所在页面\n                            break;\n                        default:\n                            // 服务器错误\n                            this.$message.error(`[${e.code}]${e.msg}`);\n                    }\n                });\n        },\n        postStats() {\n            postStat(\"paper\", this.examid)\n                .then((response) => {})\n                .catch((e) => {\n                    e = e.response;\n                    switch (e.status) {\n                        case -1:\n                            // 网络异常\n                            this.$message.error(e.msg);\n                            break;\n                        case 9999:\n                            this.$message.error(\"登录失效, 请重新登录\");\n                            //1.注销\n                            User.destroy();\n                            //2.保存未提交成功的信息\n                            //请保存至IndexedDB,勿占用localstorage\n                            //3.跳转至登录页携带redirect\n                            setTimeout(() => {\n                                User.toLogin();\n                            }, 1000);\n                            //不指定url时则自动跳回当前所在页面\n                            break;\n                        default:\n                            // 服务器错误\n                            this.$message.error(`[${e.code}]${e.msg}`);\n                    }\n                });\n        },\n        generateFinalAnswer() {\n            // 拼接最终答案\n            let finalAnswers = {};\n            let isFinished = true;\n            for (let key in this.userAnswers) {\n                let value = this.userAnswers[key];\n                let options = [];\n                for (let i = 0; i < this.questionList.length; ++i) {\n                    if (this.questionList[i].id == key) {\n                        options = this.questionList[i].options;\n                        break;\n                    }\n                }\n\n                options = JSON.parse(options);\n\n                // 判断是否有空的题目\n                if (value === null) {\n                    isFinished = false;\n                } else if (typeof value !== \"number\") {\n                    if (value.length === 0) {\n                        isFinished = false;\n                    } else {\n                        finalAnswers[key] = value.map((optionIndex) => {\n                            return options[optionIndex];\n                        });\n                    }\n                } else {\n                    finalAnswers[key] = [options[value]];\n                }\n            }\n\n            return {\n                finalAnswers: finalAnswers,\n                isFinished: isFinished,\n            };\n        },\n        preSubmitPaper() {\n            // 提交试卷前的检查\n            let generatedResult = this.generateFinalAnswer();\n            let finalAnswers = generatedResult.finalAnswers;\n            let isFinished = generatedResult.isFinished;\n\n            // 如果有空的题目，提示是否要直接提交。但是不允许提交空白试卷\n            if (!isFinished) {\n                this.$confirm(\n                    \"还没有完成所有题目的作答，是否继续答题？\",\n                    \"提示\",\n                    {\n                        cancelButtonText: \"继续答题\",\n                        confirmButtonText: \"不管了，我要交卷\",\n                        type: \"warning\",\n                    }\n                )\n                    .then(() => {\n                        if (Object.keys(finalAnswers).length === 0) {\n                            this.$alert(\"不能交白卷哦~\", \"提交失败\", {\n                                type: \"error\",\n                            });\n                        } else {\n                            this.submitPaper(finalAnswers, true);\n                        }\n                    })\n                    .catch(() => {\n                        return false;\n                    });\n            } else {\n                this.submitPaper(finalAnswers);\n            }\n        },\n\n        // 执行提交试卷请求\n        submitPaper(answers, force = false) {\n            this.$confirm(\n                \"提交试卷后将无法再修改作答，且每套试卷只能作答一次。是否确定提交？\",\n                \"提示\",\n                {\n                    cancelButtonText: \"我再看看\",\n                    confirmButtonText: \"确定提交\",\n                    type: \"warning\",\n                }\n            )\n                .then(() => {\n                    this.isSubmitted = true;\n                    this.loading = true;\n                    submitAnswer(this.examid, answers, force)\n                        .then((response) => {\n                            response = response.data\n                            if (response.score) {\n                                this.correctCount =\n                                    response.score.questionRightCount;\n                                this.sharingTitle = `我在${this.examInfo.title}中取得了${response.score.score}分的好成绩，你也快来试试吧！`;\n                                this.score = response.score.score;\n                                window.scrollTo(0, 0);\n                                if (\n                                    response.paper.questionDetailList[0]\n                                        .answerList\n                                ) {\n                                    this.parseSolution(\n                                        response.paper.questionDetailList\n                                    );\n                                } else {\n                                    this.getSolution()\n                                }\n                            } else {\n                                this.isSubmitted = false;\n                                if (response.msg) {\n                                    this.$message.error(\n                                        `[${response.code}]${response.msg}`\n                                    );\n                                }\n                            }\n                        })\n                        .catch((e) => {\n                            this.isSubmitted = false;\n                            e = e.response;\n                            switch (e.status) {\n                                case -1:\n                                    // 网络异常\n                                    this.$message.error(e.msg);\n                                    break;\n                                case 401:\n                                    this.$message.error(\"登录失效, 请重新登录\");\n                                    //1.注销\n                                    User.destroy();\n                                    //2.保存未提交成功的信息\n                                    //请保存至IndexedDB,勿占用localstorage\n                                    //3.跳转至登录页携带redirect\n                                    setTimeout(() => {\n                                        User.toLogin();\n                                    }, 1000);\n                                    //不指定url时则自动跳回当前所在页面\n                                    break;\n                                default:\n                                    // 服务器错误\n                                    this.$message.error(\n                                        `[${e.status}]${e.msg}`\n                                    );\n                            }\n                        })\n                        .then(() => {\n                            this.loading = false;\n                        });\n                })\n                .catch(() => {\n                    return false;\n                });\n        },\n\n        // 展示答案，是否正确，已经给选项标上是否正确的标记\n        parseSolution(qda) {\n            let tmpAnswerList = {};\n            let tmpCorrectiveness = {};\n            let tmpWhyami = {};\n            qda.forEach((question) => {\n                tmpAnswerList[question.id] = question.answerList;\n                tmpCorrectiveness[question.id] =\n                    question.myAnswer !== undefined &&\n                    question.answerList.sort().toString() ===\n                        question.myAnswer.sort().toString();\n                tmpWhyami[question.id] = question.whyami;\n            });\n            this.correctAnswers = tmpAnswerList;\n            this.eachCorrectiveness = tmpCorrectiveness;\n            this.whyami = tmpWhyami;\n        },\n\n        // 获取试卷答案\n        getSolution() {\n            this.loading = true;\n            getAnswer()\n                .then((response) => {\n                    response = response.data\n                    if (response.paper && response.paper.questionDetailList) {\n                        this.parseSolution(response.paper.questionDetailList)\n                    }\n                })\n                .catch((e) => {\n                    switch (e.code) {\n                        case -1:\n                            // 网络异常\n                            this.$message.error(e.msg);\n                            break;\n                        case 9999:\n                            this.$message.error(\"登录失效, 请重新登录\");\n                            //1.注销\n                            User.destroy();\n                            //2.保存未提交成功的信息\n                            //请保存至IndexedDB,勿占用localstorage\n                            //3.跳转至登录页携带redirect\n                            setTimeout(() => {\n                                User.toLogin();\n                            }, 1000);\n                            //不指定url时则自动跳回当前所在页面\n                            break;\n                        default:\n                            // 服务器错误\n                            this.$message.error(`[${e.code}]${e.msg}`);\n                    }\n                })\n                .then(() => {\n                    this.loading = false;\n                });\n        },\n        isCorrectAnswerClass(qid, idx) {\n            if (Object.keys(this.correctAnswers).length > 0) {\n                return this.correctAnswers[qid].includes(idx);\n            } else {\n                return false;\n            }\n        },\n        isWrongAnswerClass(qid, idx) {\n            if (Object.keys(this.correctAnswers).length > 0) {\n                if (\n                    !this.correctAnswers[qid].includes(idx) &&\n                    this.userAnswers[qid] !== null\n                ) {\n                    if (this.userAnswers[qid] === idx) {\n                        return true;\n                    } else if (typeof this.userAnswers[qid] !== \"number\") {\n                        return this.userAnswers[qid].includes(idx);\n                    }\n                }\n            }\n            return false;\n        },\n        userAnswerDisplayString(qid) {\n            let ans = this.userAnswers[qid];\n            if (ans === null) {\n                return \"未作答\";\n            }\n            if (typeof ans !== \"number\") {\n                return ans\n                    .map((each) => {\n                        return String.fromCharCode(65 + each);\n                    })\n                    .join(\"\");\n            } else {\n                return String.fromCharCode(65 + ans);\n            }\n        },\n        getQAuthorLink(aid) {\n            return authorLink(aid);\n        },\n\n        // // 改变题目时，保存并读取用户已经选择的选项\n        // loadQuestionUserAnswer() {\n\n        // }\n\n        check: function (action) {\n            if (action == \"delete\") {\n                this.$alert(\"确定删除吗？\", \"消息\", {\n                    confirmButtonText: \"确定\",\n                    callback: (pop) => {\n                        if (pop == \"confirm\") {\n                            checkPaper(this.id, action).then((res) => {\n                                this.$message({\n                                    message: res.data.msg || \"操作成功\",\n                                    type: \"success\",\n                                });\n                                location.reload();\n                            });\n                        }\n                    },\n                });\n            } else {\n                checkPaper(this.id, action).then((res) => {\n                    this.$message({\n                        message: res.data.msg || \"操作成功\",\n                        type: \"success\",\n                    });\n                    location.reload();\n                });\n            }\n        },\n        edit: function () {\n            location.href = publishLink(\"paper\") + \"/\" + this.id;\n        },\n    },\n};\n</script>\n\n<style lang=\"less\">\n@import \"../../assets/css/takeexam.less\";\n</style>\n\n<style scoped lang=\"less\">\n.c-exam-take-title {\n    display: flex;\n    justify-content: space-between;\n    h1 {\n        .fz(38px,1.4);\n        .mb(20px);\n    }\n    .m-exam-op {\n        position: static;\n        flex-shrink: 0;\n        .mt(20px);\n    }\n}\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/vue-svg-inline-loader/dist/index.min.js!./TakeExam.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/vue-svg-inline-loader/dist/index.min.js!./TakeExam.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TakeExam.vue?vue&type=template&id=7d7c02e1&scoped=true&\"\nimport script from \"./TakeExam.vue?vue&type=script&lang=js&\"\nexport * from \"./TakeExam.vue?vue&type=script&lang=js&\"\nimport style0 from \"./TakeExam.vue?vue&type=style&index=0&lang=less&\"\nimport style1 from \"./TakeExam.vue?vue&type=style&index=1&id=7d7c02e1&scoped=true&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7d7c02e1\",\n  null\n  \n)\n\nexport default component.exports","'use strict';\nvar redefine = require('../internals/redefine');\nvar anObject = require('../internals/an-object');\nvar fails = require('../internals/fails');\nvar flags = require('../internals/regexp-flags');\n\nvar TO_STRING = 'toString';\nvar RegExpPrototype = RegExp.prototype;\nvar nativeToString = RegExpPrototype[TO_STRING];\n\nvar NOT_GENERIC = fails(function () { return nativeToString.call({ source: 'a', flags: 'b' }) != '/a/b'; });\n// FF44- RegExp#toString has a wrong name\nvar INCORRECT_NAME = nativeToString.name != TO_STRING;\n\n// `RegExp.prototype.toString` method\n// https://tc39.es/ecma262/#sec-regexp.prototype.tostring\nif (NOT_GENERIC || INCORRECT_NAME) {\n  redefine(RegExp.prototype, TO_STRING, function toString() {\n    var R = anObject(this);\n    var p = String(R.source);\n    var rf = R.flags;\n    var f = String(rf === undefined && R instanceof RegExp && !('flags' in RegExpPrototype) ? flags.call(R) : rf);\n    return '/' + p + '/' + f;\n  }, { unsafe: true });\n}\n","import axios from \"axios\";\nimport { __server, __next } from \"@jx3box/jx3box-common/data/jx3box.json\";\nconst $ = axios.create({\n    baseURL: __server,\n    withCredentials: true,\n});\n\nconst $next = axios.create({\n    withCredentials: true,\n    baseURL: process.env.NODE_ENV === \"production\" ? __next : \"/\",\n});\n\nexport { $, axios, $next };\n","import { axios } from \"./axios\";\nimport { __next } from \"@jx3box/jx3box-common/data/jx3box.json\";\n\nconst API = __next + 'api/question/'  //TODO:\n// const API = \"/api/question/\";\nfunction checkQuestion(id, action) {\n    return axios\n        .put(API + id + \"/check\", \"\", {\n            params: {\n                action: action,\n            },\n            withCredentials: true,\n        })\n}\n\nfunction getQuestions(query) {\n    return axios\n        .get(API + \"list\", {\n            params: query,\n            withCredentials: true,\n        })\n}\n\nfunction getPapers(query) {\n    return axios\n        .get(API + \"exam-paper\", {\n            params: query,\n            withCredentials: true,\n        })\n}\n\nfunction checkPaper(id, action) {\n    return axios\n        .put(API + \"exam-paper/\" + id + \"/opt\", \"\", {\n            params: {\n                action: action,\n            },\n            withCredentials: true,\n        })\n}\n\nexport { checkQuestion, getQuestions, getPapers,checkPaper };\n","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/style-resources-loader/lib/index.js??ref--10-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/vue-svg-inline-loader/dist/index.min.js!./TakeExam.vue?vue&type=style&index=0&lang=less&\"","'use strict';\nvar $ = require('../internals/export');\nvar IndexedObject = require('../internals/indexed-object');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar arrayMethodIsStrict = require('../internals/array-method-is-strict');\n\nvar nativeJoin = [].join;\n\nvar ES3_STRINGS = IndexedObject != Object;\nvar STRICT_METHOD = arrayMethodIsStrict('join', ',');\n\n// `Array.prototype.join` method\n// https://tc39.es/ecma262/#sec-array.prototype.join\n$({ target: 'Array', proto: true, forced: ES3_STRINGS || !STRICT_METHOD }, {\n  join: function join(separator) {\n    return nativeJoin.call(toIndexedObject(this), separator === undefined ? ',' : separator);\n  }\n});\n","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/style-resources-loader/lib/index.js??ref--10-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/vue-svg-inline-loader/dist/index.min.js!./TakeExam.vue?vue&type=style&index=1&id=7d7c02e1&scoped=true&lang=less&\""],"sourceRoot":""}